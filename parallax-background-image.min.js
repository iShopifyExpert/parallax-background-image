(function(a){"use strict";function b(O,Q,R,S){var V,T=arguments.length,U=3>T?Q:null===S?S=Object.getOwnPropertyDescriptor(Q,R):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(O,Q,R,S);else for(var W=O.length-1;0<=W;W--)(V=O[W])&&(U=(3>T?V(U):3<T?V(Q,R,U):V(Q,R))||U);return 3<T&&U&&Object.defineProperty(Q,R,U),U}function f(O,Q,R,S){return new(R||(R=Promise))(function(T,U){function V(Y){try{X(S.next(Y))}catch(Z){U(Z)}}function W(Y){try{X(S.throw(Y))}catch(Z){U(Z)}}function X(Y){Y.done?T(Y.value):new R(function(Z){Z(Y.value)}).then(V,W)}X((S=S.apply(O,Q||[])).next())})}function g(O,Q=document){return"string"==typeof O?Q.querySelector(O):O}function h(O,Q=document){return O instanceof Element?[O]:Array.isArray(O)?O:("string"==typeof O&&(O=Q.querySelectorAll(O)),Array.prototype.slice.call(O))}function j(O){return"function"==typeof O?O:()=>O}function k(O){const Q=j(O);return function(){return f(this,arguments,void 0,function*(){return yield Q.apply(this,arguments)})}}function l(O,Q){return k(Q)(O).then(m)}function m(O){return new Promise((Q,R)=>{const S=document.createElement("img");S.onload=T=>{Q(T.target)},S.onerror=T=>{R(T.error)},S.src=O})}function n(O){return O.match(/url\(['"]?(.*?)['"]?\)/)[1]}function p(){const O=q();return document.head.insertBefore(O,document.head.firstElementChild),O.sheet}function q(){const O=document.createElement("style");return O.appendChild(document.createTextNode("")),O}function s(O,Q=null){return(R,S)=>{Q=Q||R;const T=O(R,S);return new F(T,Q)}}function t(O){return Object.assign({},J,O)}function u(O,Q){const R=1/O.velocityScale,S=O.viewport;return{scale:R,translateX:O.left*(R-1),translateY:((S.height-Q.height)*R-(S.height-O.height))/2,translateZ:S.perspective*(1-R)}}function v(O,Q){const R=O.viewport,S=R.top+R.height/2,T=O.top+O.height/2,U=O.top+Q.height/2;return{scale:1,translateX:0,translateY:(T-S)*(O.velocityScale-1)-(U-T),translateZ:0}}function x(){const{userAgent:O}=navigator;return O.includes("Chrome/")&&!O.includes("Edge/")}const y="data-parallax-element",z=O=>{const Q=window.getComputedStyle(O);return n(Q.backgroundImage)};class A{constructor(){this.tasks=[]}get done(){return 0===this.tasks.length}schedule(O){this.tasks.push(O)}run(){const O=this.tasks.length;for(let Q=0;Q<O;++Q)this.tasks.shift()()}}const C=new class{constructor(){this.readRunner=new A,this.writeRunner=new A,this.running=!1}read(O){this.readRunner.schedule(O),this.running||this.run()}write(O){this.writeRunner.schedule(O),this.running||this.run()}run(){this.running=!0,window.requestAnimationFrame(()=>{this.readRunner.run(),this.writeRunner.run(),this.readRunner.done&&this.writeRunner.done?this.running=!1:this.run()})}};class D{constructor(O,Q,R){this.style=O,this.width=Q,this.height=R,Object.assign(O,{position:"absolute",left:"0",top:"0",transformOrigin:"0 0 0",pointerEvents:"none"})}updateTransform(O){const Q=`
            translateX(${O.translateX}px)
            translateY(${O.translateY}px)
            translateZ(${O.translateZ}px)
            scale(${O.scale}, ${O.scale})`;C.write(()=>{this.style.transform=Q})}}class E{constructor(O){this.background=O}updateTransform(O){this.background.updateTransform(Object.assign({},O,{scale:O.scale*this.scale}))}get height(){return this.background.height*this.scale}get width(){return this.background.width*this.scale}}b([a.computed],E.prototype,"height",null),b([a.computed],E.prototype,"width",null);class F extends E{constructor(O,Q){super(O),this.element=Q}get scale(){return Math.max(this.minimalHeight/this.background.height,this.minimalWidth/this.background.width)}get minimalHeight(){const{height:O}=this.element.viewport,{height:Q,velocityScale:R}=this.element,S=1<R?Q+(R-1)*(O+Q):Q+(1-R)*(O-Q);return Math.max(S,O+R*(O-Q))}get minimalWidth(){return this.element.width}}b([a.computed],F.prototype,"scale",null),b([a.computed],F.prototype,"minimalHeight",null),b([a.computed],F.prototype,"minimalWidth",null);const G=(O,Q)=>{const R=`[${y}="${O.id}"]::before {
        content: '';
        width: ${Q.naturalWidth}px;
        height: ${Q.naturalHeight}px;
        background-image: url(${Q.src});
        background-size: 100% 100%;
    }`,S=I.insertRule(R,0),T=I.cssRules[S].style;return new D(T,Q.naturalWidth,Q.naturalHeight)},I=function(){const O=q();return document.head.appendChild(O),O.sheet}(),J={velocityScale:0.8,backgroundImage:z,createBackground:s(G)};class K{constructor(O){const Q=()=>{this.update(O.getBoundingClientRect()),C.read(Q)};Q()}update(O){this.bottom=O.bottom,this.height=O.height,this.left=O.left,this.right=O.right,this.top=O.top,this.width=O.width}}b([a.observable],K.prototype,"bottom",void 0),b([a.observable],K.prototype,"height",void 0),b([a.observable],K.prototype,"left",void 0),b([a.observable],K.prototype,"right",void 0),b([a.observable],K.prototype,"top",void 0),b([a.observable],K.prototype,"width",void 0),b([a.action],K.prototype,"update",null);class L{constructor(O,Q){Object.assign(O.style,{overflowY:"scroll",webkitOverflowScrolling:"touch",transformStyle:"flat",perspective:Q+"px",perspectiveOrigin:"0 0"}),this.element=O,this.perspective=Q,this.boundingClientRect=new K(O)}get height(){return this.boundingClientRect.height}get top(){return this.boundingClientRect.top}}b([a.computed],L.prototype,"height",null),b([a.computed],L.prototype,"top",null);class M{constructor(O,Q,R){this.id=M.getNextId(),this.element=O,this.boundingClientRect=new K(O),this.viewport=Q,this.velocityScale=R,this.element.setAttribute(y,this.id)}get width(){return this.boundingClientRect.width}get height(){return this.boundingClientRect.height}get left(){return this.boundingClientRect.left}get top(){return this.boundingClientRect.top}static getNextId(){return`${M.nextId++}`}}M.nextId=0,b([a.computed],M.prototype,"width",null),b([a.computed],M.prototype,"height",null),b([a.computed],M.prototype,"left",null),b([a.computed],M.prototype,"top",null),function(){const O=p();O.insertRule(`
        [${y}] > * {
            position: relative;
        }
    `,0),O.insertRule(`
        [${y}] {
            position: relative;
            overflow: hidden;
        }
    `,0)}();class N{constructor(O,Q=!x(),R=1e3){Q&&(R=0),this.useFallback=Q,this.viewport=new L(g(O),R)}add(O,Q={}){const R=t(Q);if(0>R.velocityScale)throw new RangeError("velocityScale must be positive");return h(O,this.viewport.element).filter(S=>!S.hasAttribute(y)).map(S=>this.addElement(S,R))}addElement(O,Q){return f(this,void 0,void 0,function*(){const R=yield l(O,Q.backgroundImage),S=new M(O,this.viewport,Q.velocityScale),T=Q.createBackground(S,R),U=this.useFallback?v:u;a.autorun(()=>{const V=U(S,T);T.updateTransform(V)})})}}N.scheduler=C,N.getCSSBackgroundImage=z,N.pesudoBefore=G,N.insertImg=(O,Q)=>{const R=document.createElement("img");return R.height=Q.naturalHeight,R.width=Q.naturalWidth,R.src=Q.src,O.element.insertBefore(R,O.element.firstElementChild),new D(R.style,Q.naturalWidth,Q.naturalHeight)},N.coverElement=s,window.Parallax=N})(mobx);
