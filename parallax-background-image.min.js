var parallax=function(t){"use strict";function n(t){var e=document.createElement("style");return e.appendChild(document.createTextNode(t)),e}var e="parallax-background-image-viewport",i="parallax-background-image-viewport-3d",r="parallax-background-image-element";function o(t){var e=t.use3d?s:a,i=function(a){return function(t,e,n){var i=e.w,r=n.h+a*(n.h-e.h),o=i/t.w,s=r/t.h;l(t,Math.max(o,s))}}(t.velocity),r=function(i){return i=function(t){if("left"===t)return 0;if("center"===t)return.5;if("right"===t)return 1;var e=parseFloat(t);return isNaN(e)?.5:e/100}(i),function(t,e,n){t.x=(.5-i)*(t.w-e.w)}}(t.alignX),o=e(t.velocity);return function(t,e,n){i(t,e,n),r(t,e,n),o(t,e,n)}}function l(t,e){t.x*=e,t.y*=e,t.z*=e,t.w*=e,t.h*=e}function s(i){return function(t,e,n){l(t,1/i),t.z+=1-1/i,t.x-=e.x*(1-1/i)}}function a(i){return function(t,e,n){t.y+=e.y*(i-1)}}function d(t,e,n){this.element=t,this.imageWidth=e.naturalWidth,this.imageHeight=e.naturalHeight,this.transform_=o(n),this.renderer=new n.renderer(t,e,n),this.bgRect={x:NaN,y:NaN,z:NaN,w:NaN,h:NaN},this.dirty=!1,this.disposed=!1,this.element.classList.add(r)}function h(t,e,n){t.position="absolute",t.left="50%",t.top="50%",t.width=e+"px",t.height=n+"px",t.transformOrigin="center center 0",t.pointerEvents="none"}function u(t,e,n,i){t.transform="translateX("+(e.x-n/2)+"px)translateY("+(e.y-i/2)+"px)translateZ("+e.z+"px)scale("+e.w/n+", "+e.h/i+")"}d.prototype.updateRect=function(t,e){if(!this.disposed){var n={x:0,y:0,z:0,w:this.imageWidth,h:this.imageHeight};this.transform_(n,t,e),function(t,e){return t.x!==e.x||t.y!==e.y||t.z!==e.z||t.w!==e.w||t.h!==e.h}(this.bgRect,n)&&(this.dirty=!0,function(t,e){t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.h=e.h}(this.bgRect,n))}},d.prototype.render=function(){this.disposed||this.dirty&&(this.dirty=!1,this.renderer.render(this.bgRect))},d.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.element.classList.remove(r),this.renderer.dispose())};function c(t,e,n){var i=this;this.element=t,this.imageWidth=e.naturalWidth,this.imageHeight=e.naturalHeight,this.img=document.createElement("img"),this.style=this.img.style,this.disposed=!1,window.requestAnimationFrame(function(){i.disposed||(i.img.src=e.src,h(i.style,i.imageWidth,i.imageHeight),i.element.prepend(i.img))})}c.prototype.render=function(t){this.disposed||u(this.style,t,this.imageWidth,this.imageHeight)},c.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.element.removeChild(this.img))};function p(t,e,n){var i=this;this.element=t,this.imageWidth=e.naturalWidth,this.imageHeight=e.naturalHeight;var r=g++;this.className="parallax-background-image-pseudo-"+r,this.style=function(t,e){var n=t+" {}",i=e.insertRule(n,0);return e.cssRules[i].style}("."+this.className+"::before",m),this.disposed=!1,window.requestAnimationFrame(function(){i.disposed||(i.style.content='""',i.style.backgroundImage="url("+e.src+")",i.style.backgroundSize="100% 100%",h(i.style,i.imageWidth,i.imageHeight),i.element.classList.add(i.className))})}var m=function(t){void 0===t&&(t="");var e=n(t);return document.head.appendChild(e),e.sheet}(),g=0;p.prototype.render=function(t){this.disposed||u(this.style,t,this.imageWidth,this.imageHeight)},p.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.element.classList.remove(this.className))};function f(t,e){"string"==typeof t&&(t=document.querySelector(t)),e=Object.assign({},{use3d:function(){var t=navigator.userAgent;return-1!==t.indexOf("Chrome/")&&-1===t.indexOf("Edge/")}()},e),this.rootElement=t,this.options=e,this.parallaxElements=[],this._setupStyle(),this._monitorRects(),this._startRenderLoop()}function y(t){var e=t.getBoundingClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2,w:e.right-e.left,h:e.bottom-e.top}}function v(t,e){t.x-=e.x,t.y-=e.y}return f.prototype._setupStyle=function(){this.rootElement.classList.add(e),this.options.use3d&&this.rootElement.classList.add(i)},f.prototype._monitorRects=function(){var t=this._updateRects.bind(this);window.addEventListener("resize",t),this.options.use3d||this.rootElement.addEventListener("scroll",t)},f.prototype._updateRects=function(){for(var t=this.parallaxElements,e=y(this.rootElement),n=0;n<t.length;++n){var i=y(t[n].element);v(i,e),t[n].updateRect(i,e)}},f.prototype._startRenderLoop=function(){var n=this.parallaxElements;window.requestAnimationFrame(function t(){for(var e=0;e<n.length;++e)n[e].render();window.requestAnimationFrame(t)})},f.prototype.add=function(t,e){if(void 0===e&&(e={}),t instanceof Element)this._addElement(t,e);else{"string"==typeof t&&(t=this.rootElement.querySelectorAll(t));for(var n=0;n<t.length;++n)this._addElement(t[n],e)}},f.prototype._addElement=function(n,i){var r=this;this._isViewportFor(n)&&(this._removeElement(n),null!=(i=this._parseElementOptions(n,i)).image&&function(t,e){var n=document.createElement("img");n.onload=function(t){e(null,t.target)},n.onerror=function(t){e(t.error)},n.src=t}(i.image,function(t,e){t||(r.parallaxElements.push(new d(n,e,i)),r._updateRects())}))},f.prototype._isViewportFor=function(t){return t!==this.rootElement&&t.closest("."+e)===this.rootElement},f.prototype._parseElementOptions=function(t,e){return"function"==typeof e&&(e=e(t)),null==(e=Object.assign({},{velocity:.8,alignX:"center",renderer:c},e)).image&&(e.image=function(t){var e=window.getComputedStyle(t),n=/^url\((['"]?)(.*)\1\)$/.exec(e.backgroundImage);return null==n?null:n[2]}(t)),e.use3d=this.options.use3d,e},f.prototype.remove=function(t){if(t instanceof Element)this._removeElement(t);else{"string"==typeof t&&(t=this.rootElement.querySelectorAll(t));for(var e=0;e<t.length;++e)this._removeElement(t[e])}},f.prototype._removeElement=function(t){for(var e=this.parallaxElements,n=0;n<e.length;++n)if(this.parallaxElements[n].element===t)return e[n].dispose(),void e.splice(n,1)},function(t){void 0===t&&(t="");var e=n(t);document.head.insertBefore(e,document.head.firstElementChild),e.sheet}("\n.parallax-background-image-element {\n  position: relative;\n  overflow: hidden !important;\n  background: none !important;\n  background-image: none !important;\n}\n\n.parallax-background-image-element > * {\n  position: relative;\n}\n\n.parallax-background-image-viewport {\n  overflow-x: hidden !important;\n  overflow-y: scroll !important;\n  -webkit-overflow-scrolling: touch;\n}\n\n.parallax-background-image-viewport-3d {\n  perspective: 1px !important;\n  perspective-origin: center center !important;\n}"),t.createViewport=function(t,e){return void 0===e&&(e={}),new f(t,e)},t.ImageElementRenderer=c,t.PseudoElementRenderer=p,t}({});