var Parallax=function(a,b){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function c(a,b,e,f){var g,h=arguments.length,c=3>h?b:null===f?f=Object.getOwnPropertyDescriptor(b,e):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(a,b,e,f);else for(var j=a.length-1;0<=j;j--)(g=a[j])&&(c=(3>h?g(c):3<h?g(b,e,c):g(b,e))||c);return 3<h&&c&&Object.defineProperty(b,e,c),c}function d(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})}function e(a,b=document){return"string"==typeof a?b.querySelector(a):a}function f(a,b=document){return a instanceof Element?[a]:Array.isArray(a)?a:("string"==typeof a&&(a=b.querySelectorAll(a)),Array.prototype.slice.call(a))}function g(a){return"function"==typeof a?a:(...b)=>a}function h(a){const b=g(a);return(...a)=>new Promise(c=>c(b.apply(this,a)))}function i(a,b){return h(b)(a).then(j)}function j(a){return new Promise((b,c)=>{const d=document.createElement("img");d.onload=a=>{b(a.target)},d.onerror=a=>{c(a.error)},d.src=a})}function k(a){return a.match(/url\(['"]?(.*?)['"]?\)/)[1]}function l(){const a=m();return document.head.insertBefore(a,document.head.firstElementChild),a.sheet}function m(){const a=document.createElement("style");return a.appendChild(document.createTextNode("")),a}function n(a,b=null){return(c,d)=>{const e=a(c,d);return new y(e,b||c)}}function o(a){return Object.assign({},B,a)}function p(a,b){const c=1/a.velocityScale,d=a.viewport;return{scale:c,translateX:a.rect.left*(c-1),translateY:((d.rect.height-b.height)*c-(d.rect.height-a.rect.height))/2,translateZ:d.perspective*(1-c)}}function q(a,b){const c=a.viewport,d=c.rect.top+c.rect.height/2,e=a.rect.top+a.rect.height/2,f=a.rect.top+b.height/2;return{scale:1,translateX:0,translateY:(e-d)*(a.velocityScale-1)-(f-e),translateZ:0}}function r(a,b,c){return d=>Object.assign({},d,{translateX:d.translateX-(b.width-a.rect.width)*d.scale*c})}function s(){const{userAgent:a}=navigator;return-1!==a.indexOf("Chrome/")&&-1===a.indexOf("Edge/")}function t(a){a.style.setProperty("background","none","important"),a.style.setProperty("background-image","none","important")}const u="data-parallax-element",v=a=>{const b=window.getComputedStyle(a);return k(b.backgroundImage)};class w{constructor(a,c,d){this.style=a,this.width=c,this.height=d,b.scheduler.write(()=>{a.position="absolute",a.left="0",a.top="0",a.transformOrigin="0 0 0",a.pointerEvents="none"})}updateTransform(a){const c=`
            translateX(${a.translateX}px)
            translateY(${a.translateY}px)
            translateZ(${a.translateZ}px)
            scale(${a.scale}, ${a.scale})`;b.scheduler.write(()=>{this.style.transform=c})}}class x{constructor(a){this.background=a}updateTransform(a){this.background.updateTransform(Object.assign({},a,{scale:a.scale*this.scale}))}get height(){return this.background.height*this.scale}get width(){return this.background.width*this.scale}}c([a.computed],x.prototype,"height",null),c([a.computed],x.prototype,"width",null);class y extends x{constructor(a,b){super(a),this.element=b}get scale(){var a=Math.max;return a(this.minimalHeight/this.background.height,this.minimalWidth/this.background.width)}get minimalHeight(){const a=this.element.viewport.rect.height,b=this.element.rect.height,{velocityScale:c}=this.element;return a+c*(a-b)}get minimalWidth(){return this.element.rect.width}}c([a.computed],y.prototype,"scale",null),c([a.computed],y.prototype,"minimalHeight",null),c([a.computed],y.prototype,"minimalWidth",null);const z=(a,c)=>{const d=document.createElement("img");return b.scheduler.write(()=>{d.height=c.naturalHeight,d.width=c.naturalWidth,d.src=c.src,a.element.insertBefore(d,a.element.firstElementChild)}),new w(d.style,c.naturalWidth,c.naturalHeight)},A=function(){const a=m();return document.head.appendChild(a),a.sheet}(),B={velocityScale:.8,horizontalAlign:.5,backgroundImage:v,createBackground:n(z)};class C{constructor(a){this.left=0,this.top=0,this.width=0,this.height=0;const c=()=>{this.update(a.getBoundingClientRect()),b.scheduler.read(c)};b.scheduler.read(c)}update(a){this.left=a.left,this.top=a.top,this.width=a.width,this.height=a.height}}c([a.observable],C.prototype,"left",void 0),c([a.observable],C.prototype,"top",void 0),c([a.observable],C.prototype,"width",void 0),c([a.observable],C.prototype,"height",void 0),c([a.action],C.prototype,"update",null);class D{constructor(a,b){a.style.overflowY="scroll",a.style.webkitOverflowScrolling="touch",a.style.transformStyle="flat",b!==1/0&&(a.style.perspective=b+"px",a.style.perspectiveOrigin="0 0"),this.element=a,this.perspective=b,this.rect=new C(a)}}class E{constructor(a,c,d){this.id=E.getNextId(),this.element=a,this.rect=new C(a),this.viewport=c,this.velocityScale=d,b.scheduler.write(()=>{this.element.setAttribute(u,this.id)})}static getNextId(){return`${E.nextId++}`}}E.nextId=0,function(){const a=l();a.insertRule(`
        [${u}] > * {
            position: relative;
        }
    `,0),a.insertRule(`
        [${u}] {
            position: relative;
            overflow: hidden;
        }
    `,0)}();class F{constructor(a,b=!s(),c=1e3){b&&(c=1/0),this.useFallback=b,this.viewport=new D(e(a),c)}add(a,b={}){const c=o(b);if(0>c.velocityScale)throw new RangeError("velocityScale must be positive");return f(a,this.viewport.element).filter(a=>!a.hasAttribute(u)).map(a=>this.addElement(a,c))}addElement(b,c){return d(this,void 0,void 0,function*(){const d=yield i(b,c.backgroundImage),e=new E(b,this.viewport,c.velocityScale);t(b);const f=c.createBackground(e,d),g=this.useFallback?q:p,h=r(e,f,c.horizontalAlign);a.autorun(()=>{const a=g(e,f);f.updateTransform(h(a))})})}}return F.getCSSBackgroundImage=v,F.pesudoBefore=(a,b)=>{const c=`[${u}="${a.id}"]::before {
        content: '';
        width: ${b.naturalWidth}px;
        height: ${b.naturalHeight}px;
        background-image: url(${b.src});
        background-size: 100% 100%;
    }`,d=A.insertRule(c,0),e=A.cssRules[d].style;return new w(e,b.naturalWidth,b.naturalHeight)},F.insertImg=z,F.coverElement=n,F}(mobx,domScheduler);